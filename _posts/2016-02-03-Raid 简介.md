---
layout: post
title:  "Raid 简介"
date:   2016-2-3 星期三  17:08:57     
categories: jekyll update
---


###一、Raid定义###

RAID(Redundant Array of Independent Disk 独立冗余磁盘阵列)技术是加州大学伯克利分校1987年提出，最初是为了组合小的廉价磁盘来代替大的昂贵磁盘，同时希望磁盘失效时不会使对数据的访问受损失而开发出一定水平的数据保护技术。RAID就是一种由多块廉价磁盘构成的冗余阵列，在操作系统下是作为一个独立的大型存储设备出现。RAID可以充分发挥出多块硬盘的优势，可以提升硬盘速度，增大容量，提供容错功能够确保数据安全性，易于管理的优点，在任何一块硬盘出现问题的情况下都可以继续工作，不会受到损坏硬盘的影响。
 
###二、RAID的几种工作模式###

####1、RAID0####

即Data Stripping数据分条技术。RAID 0可以把多块硬盘连成一个容量更大的硬盘群，可以提高磁盘的性能和吞吐量。RAID 0没有冗余或错误修复能力，成本低，要求至少两个磁盘，一般只是在那些对数据安全性要求不高的情况下才被使用。

（1）、RAID 0最简单方式

就是把x块同样的硬盘用硬件的形式通过智能磁盘控制器或用操作系统中的磁盘驱动程序以软件的方式串联在一起，形成一个独立的逻辑驱动器，容量是单独硬盘的x倍,在电脑数据写时被依次写入到各磁盘中，当一块磁盘的空间用尽时，数据就会被自动写入到下一块磁盘中，它的好处是可以增加磁盘的容量。速度与其中任何一块磁盘的速度相同，如果其中的任何一块磁盘出现故障，整个系统将会受到破坏，可靠性是单独使用一块硬盘的1/n。

（2）、RAID 0的另一方式 

是用n块硬盘选择合理的带区大小创建带区集，最好是为每一块硬盘都配备一个专门的磁盘控制器,在电脑数据读写时同时向n块磁盘读写数据,速度提升n倍。提高系统的性能。

####2、RAID 1####

RAID 1称为磁盘镜像：把一个磁盘的数据镜像到另一个磁盘上，在不影响性能情况下最大限度的保证系统的可靠性和可修复性上，具有很高的数据冗余能力，但磁盘利用率为50%，故成本最高，多用在保存关键性的重要数据的场合。

RAID 1有以下特点：

（1）、RAID 1的每一个磁盘都具有一个对应的镜像盘，任何时候数据都同步镜像，系统可以从一组镜像盘中的任何一个磁盘读取数据。

（2）、磁盘所能使用的空间只有磁盘容量总和的一半，系统成本高。

（3）、只要系统中任何一对镜像盘中至少有一块磁盘可以使用，甚至可以在一半数量的硬盘出现问题时系统都可以正常运行。

（4）、出现硬盘故障的RAID系统不再可靠，应当及时的更换损坏的硬盘，否则剩余的镜像盘也出现问题，那么整个系统就会崩溃。

（5）、更换新盘后原有数据会需要很长时间同步镜像，外界对数据的访问不会受到影响，只是这时整个系统的性能有所下降。

（6）、RAID 1磁盘控制器的负载相当大，用多个磁盘控制器可以提高数据的安全性和可用性。

####3、RAID0+1####

把RAID0和RAID1技术结合起来，数据除分布在多个盘上外，每个盘都有其物理镜像盘，提供全冗余能力，允许一个以下磁盘故障，而不影响数据可用性，并具有快速读/写能力。RAID0+1要在磁盘镜像中建立带区集至少4个硬盘。

####4、RAID2：带海明码校验####

电脑在写入数据时在一个磁盘上保存数据的各个位，同时把一个数据不同的位运算得到的海明校验码保存另一组磁盘上，由于海明码可以在数据发生错误的情况下将错误校正，以保证输出的正确。但海明码使用数据冗余技术，使得输出数据的速率取决于驱动器组中速度最慢的磁盘。RAID2控制器的设计简单。

####5、RAID3：带奇偶校验码的并行传送####
 
RAID 3使用一个专门的磁盘存放所有的校验数据，而在剩余的磁盘中创建带区集分散数据的读写操作。当一个完好的RAID 3系统中读取数据，只需要在数据存储盘中找到相应的数据块进行读取操作即可。但当向RAID 3写入数据时，必须计算与该数据块同处一个带区的所有数据块的校验值，并将新值重新写入到校验块中，这样无形虽增加系统开销。当一块磁盘失效时，该磁盘上的所有数据块必须使用校验信息重新建立，如果所要读取的数据块正好位于已经损坏的磁盘，则必须同时读取同一带区中的所有其它数据块，并根据校验值重建丢失的数据，这使系统减慢。当更换了损坏的磁盘后，系统必须一个数据块一个数据块的重建坏盘中的数据，整个系统的性能会受到严重的影响。RAID 3最大不足是校验盘很容易成为整个系统的瓶颈，对于经常大量写入操作的应用会导致整个RAID系统性能的下降。RAID 3适合用于数据库和WEB服务器等。

####6、 RAID4：带奇偶校验码的独立磁盘结构####

RAID4即带奇偶校验码的独立磁盘结构，RAID4和RAID3很象，它对数据的访问是按数据块进行的，也就是按磁盘进行的，每次是一个盘，RAID4的特点和RAID3也挺象，不过在失败恢复时，它的难度可要比RAID3大得多了，控制器的设计难度也要大许多，而且访问数据的效率不怎么好。 

####7、 RAID5：分布式奇偶校验的独立磁盘结构####

RAID 5把校验块分散到所有的数据盘中。RAID 5使用了一种特殊的算法，可以计算出任何一个带区校验块的存放位置。这样就可以确保任何对校验块进行的读写操作都会在所有的RAID磁盘中进行均衡，从而消除了产生瓶颈的可能。RAID5的读出效率很高，写入效率一般，块式的集体访问效率不错。RAID 5提高了系统可靠性，但对数据传输的并行性解决不好，而且控制器的设计也相当困难。

####8、RAID6：带有两种分布存储的奇偶校验码的独立磁盘结构####

RAID6即带有两种分布存储的奇偶校验码的独立磁盘结构，它是对RAID5的扩展，主要是用于要求数据绝对不能出错的场合，使用了二种奇偶校验值，所以需要N+2个磁盘，同时对控制器的设计变得十分复杂，写入速度也不好，用于计算奇偶校验值和验证数据正确性所花费的时间比较多，造成了不必须的负载，很少人用。

####9、 RAID7：优化的高速数据传送磁盘结构####

RAID7即优化的高速数据传送磁盘结构，它所有的I/O传送均是同步进行的，可以分别控制，这样提高了系统的并行性和系统访问数据的速度；每个磁盘都带有高速缓冲存储器，实时操作系统可以使用任何实时操作芯片，达到不同实时系统的需要。允许使用SNMP协议进行管理和监视，可以对校验区指定独立的传送信道以提高效率。可以连接多台主机，当多用户访问系统时，访问时间几乎接近于0。但如果系统断电，在高速缓冲存储器内的数据就会全部丢失，因此需要和UPS一起工作，RAID7系统成本很高。

####10、 RAID10：高可靠性与高效磁盘结构####

RAID10即高可靠性与高效磁盘结构它是一个带区结构加一个镜象结构，可以达到既高效又高速的目的。这种新结构的价格高，可扩充性不好。

####11、 RAID53:高效数据传送磁盘结构####

与RAID 10一样，RAID 53也是一种组合RAID 等级，但不要拿RAID 10的观点套用，认为它是RAID 5和RAID 3的组合，事实上，RAID 53应该称为RAID 30或RAID 03（也可以说是RAID 0+3），即RAID 3与RAID 0的组合。RAID 53中将备份等级由RAID 0变为了RAID 3，也就是说把原来的镜像阵列变成了分割式（Segments）存储阵列。但它不是对每个RAID 0硬盘都用一个RAID 3系统进行，而是用RAID 3对所有数据进行冗余存储（或者说是校验），而且读写与ECC效率比RAID 0要高不少。

####12、RAID50####

RAID50是RAID5与RAID0的结合。此配置在RAID5的子磁盘组的每个磁盘上进行包括奇偶信息在内的数据的剥离。每个RAID5子磁盘组要求三个硬盘。RAID50具备更高的容错能力，因为它允许某个组内有一个磁盘出现故障，而不会造成数据丢失。而且因为奇偶位分部于RAID5子磁盘组上，故重建速度有很大提高。优势：更高的容错能力，具备更快数据读取速率的潜力。需要注意的是：磁盘故障会影响吞吐量。故障后重建信息的时间比镜像配置情况下要长。

###三、应用RAID技术###

要使用磁盘RAID主要有两种方式，第一种就是RAID适配卡，通过RAID适配卡插入PCI插槽再接上硬盘实现硬盘的RAID功能。第二种方式就是直接在主板上集成RAID控制芯片，让主板能直接实现磁盘RAID。这种方式成本比专用的RAID适配卡低很多。此外还可以用2k or xp or linux系统做成软raid.个人使用磁盘RAID主要是用RAID0、 RAID1或RAID0＋1工作模式。
