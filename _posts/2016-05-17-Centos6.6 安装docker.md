---
layout: post
title:  "Centos6.6 安装docker"
date:   2016-5-17 17:32:37 
categories: jekyll update
---

升级带aufs模块的3.10内核，可以参考 《Linux update kernel》

	root@pts/0 # uname -r
	3.10.5-3.el6.x86_64
	root@pts/0 # grep aufs /proc/filesystems 
	nodev   aufs

安装docker可以有两种方式：一种是使用curl获得docker的安装脚本进行安装，还有一种是使用yum包管理器来安装docker

###安装docker并使用###

一、使用安装脚本安装

更新现有的yum包并执行docker安装脚本
	
	root@pts/0 # yum update 
	root@pts/0 # curl -sSL https://get.docker.com/ | sh
	+ sh -c 'sleep 3; yum -y -q install docker-engine'
	warning: rpmts_HdrFromFdno: Header V4 RSA/SHA1 Signature, key ID 2c52609d: NOKEY
	Importing GPG key 0x2C52609D:
	 Userid: "Docker Release Tool (releasedocker) <docker@docker.com>"
	 From  : https://yum.dockerproject.org/gpg
	
	If you would like to use Docker as a non-root user, you should now consider
	adding your user to the "docker" group with something like:
	
	  sudo usermod -aG docker your-user
	
	Remember that you will have to log out and back in for this to take effect!

启动docker服务

	root@pts/0 # /etc/init.d/docker start
	Starting cgconfig service:                                 [  OK  ]
	Starting docker:                                           [  OK  ]

确认docker安装成功

	root@pts/0 # docker version
	Client version: 1.7.1
	Client API version: 1.19
	Go version (client): go1.4.2
	Git commit (client): 786b29d
	OS/Arch (client): linux/amd64
	Server version: 1.7.1
	Server API version: 1.19
	Go version (server): go1.4.2
	Git commit (server): 786b29d
	OS/Arch (server): linux/amd64

二、使用yum 包安装


更新yum源，添加docker源，安装

	root@pts/1 # yum update
	
	root@pts/1 # vim /etc/yum.repos.d/docker.repo
	
	[dockerrepo]
	name=Docker Repository
	baseurl=https://yum.dockerproject.org/repo/main/centos/$releasever/
	enabled=1
	gpgcheck=1
	gpgkey=https://yum.dockerproject.org/gpg

	root@pts/0 # yum install http://mirrors.yun-idc.com/epel/6/i386/epel-release-6-8.noarch.rpm
	
	root@pts/0 # yum install docker-io

启动docker

	root@pts/0 # /etc/init.d/docker start
	Starting cgconfig service:                                 [  OK  ]
	Starting docker:                                           [  OK  ]