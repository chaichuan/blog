---
layout: post
title:  "zabbix 3.0.2邮件报警"
date:   2016-5-9 16:59:38 
categories: jekyll update
---

###1、首先配置mail （这里用mailx发送）###

参考:[CentOS mailx client](http://www.chaichuan.net/jekyll/update/2016/03/23/CentOS-sendmail.html)


###2、进入zabbix管理页面###

点击管理->报警媒介类型 点击最右边的创建媒体类型

![](http://7xppz2.com1.z0.glb.clouddn.com/74.png)

输入脚本名称，类型选择脚本
添加以下3个参数，分别对应mail.sh脚本需要的3个参数：收件人地址、主题、详细内容
{ALERT.SENDTO}
{ALERT.SUBJECT}
{ALERT.MESSAGE}

![](http://7xppz2.com1.z0.glb.clouddn.com/75.png)

解释:很多人安装zabbix 3.0之后，写的脚本一直发信不成功,手动执行时可以的。
那是因为zabbix3.0之后，可以自定义参数了。所以不写参数，它是不会传参数的。
在2.x版本不存在这个问题，默认会传3个参数。

