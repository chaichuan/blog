---
layout: post
title:  "linux 删除大目录方法"
date:   2016-1-8 星期五  19:46:50   
categories: jekyll update
---

由于目录下全是琐碎的小文件而且目录结构具深，使用rm -rf /backup ,速度是每秒钟40-60M

10T的数据得删多长时间啊！

可以通过rsync来实现：

	mkdir /tmp/null

	rsync --delete-before -a -H -v --progress --stats /tmp/null/ /backup/photos/


测试了删除速度，刚开始时候每秒钟252M，后来速度增长了些，还是不能满足我的小小的欲望。
将-v --progress 去掉，刚开始302M,后来速度达到最高时候达到了每秒钟1560M ！！

	rsync --delete-before -a -H --stats /tmp/null/ /backup/photos/
