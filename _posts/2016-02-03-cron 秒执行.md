---
layout: post
title:  "cron 秒执行"
date:   2016-2-3 星期三  17:10:10     
categories: jekyll update
---


cron job 里面，如何让脚本半分钟运行一次？

cron本身实现不了。但可以借助于sleep命令实现。

解决方法：

两个脚本

一个正常，一个增加sleep 30

crontab设置同时启动

在有的shell（比如linux中的bash）中sleep支持睡眠（分，小时）

sleep 可以用来将目前动作延迟一段时间

参数说明 :

	--help : 	显示辅助讯息
	--version : 	显示版本编号
	number : 	时间长度，后面可接 s、m、h 或 d
	
其中 s 为秒，m 为 分钟，h 为小时，d 为日数

显示目前时间后延迟 1 分钟，之后再次显示时间 :

date;sleep 1m;date

	sleep 1    睡眠1秒
	sleep 1s   睡眠1秒
	sleep 1m   睡眠1分
	sleep 1h   睡眠1小时

让其中一个脚本睡眠30秒，另一个正常运行

例如：

a.sh是你的脚本

再写一个b.sh脚本

内容如下：

	!#/bin/bash
	sleep 30
	a.sh

然后在cron中把这两个脚本都加进去，设置一样的启动条件（分钟是*）

	* * * * * /路径/a.sh ; /路径/b.sh

若每隔10秒执行一次，则在b.sh中添加如下内容：

	#!/bin/bash
	sleep 10
	/opt/a.sh
	sleep 10
	/opt/a.sh
	sleep 10
	/opt/a.sh
	sleep 10
	/opt/a.sh
	sleep 10
	/opt/a.sh