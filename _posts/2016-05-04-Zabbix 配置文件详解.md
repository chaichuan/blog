---
layout: post
title:  "Zabbix 配置文件详解"
date:   2016-5-4 10:22:29 
categories: jekyll update
---


zabbix的配置文件一般有三种：

	zabbixserver的配置文件zabbix_server.conf
	zabbixproxy的配置文件zabbix_proxy.conf
	zabbix_agentd的配置文件zabbix_agentd.conf

###1.zabbixserver的配置文件：###

	NodeID=0 #分布式节点id号，0代表是独立服务器，默认是被注释掉的，不强制配置 
	ListenPort=10051 #zabbix server的端口，默认是10051，可以自行修改， 
	范围是1024-32767 ，一般默认即可 
	SourceIP=  #连接的源ip地址，默认为空，默认即可 
	LogFile=/tmp/zabbix_server.log #日志文件的存放位置 
	LogFileSize=1 #日志文件的大小，单位为MB，当设置为0时，表示不仅行日志轮询， 
	默认设置为1，默认即可 
	DebugLevel=3 #指定调试级别，默认即可 
	PidFile=/tmp/zabbix_server.pid #pid文件的存放位置 
	DBHost=localhost #数据库主机名，当设置为localhost时，连接mysql通过sock 
	DBName=zabbix #指定存放zabbix数据数据库的名字 
	DBUser=zabbix #指定连接数据库的用户名 
	DBPassword=123456 #用户连接数据库需要的密码 
	DBSocket=/var/lib/mysql/mysql.sock #前文主机设置为localhost，用户 
	连接数据库所用的sock位置， 
	DBPort=3306 #数据库的端口号，当用sock连接时，无关紧要，当通过网络连接时需设置 
	StartPollers=5 #默认即可 
	StartIPMIPollers=0 #使用IPMI协议时，用到的参数 
	StartTrappers=5 #打开的进程数， 
	StartPingers=1 同上 
	StartDiscoverers=1 
	StartHTTPPollers=1 
	JavaGateway=127.0.0.1 #JavaGateway的ip地址或主机名 
	JavaGatewayPort=10052 #JavaGateway的端口号 
	StartJavaPollers=5 #开启连接javagatey的进程数 
	SNMPTrapperFile=/tmp/zabbix_traps.tmp 
	StartSNMPTrapper=0 #如果设置为1，snmp trapper进程就会开启 
	ListenIP=0.0.0.0 #监听来自trapper的ip地址 
	ListenIP=127.0.0.1 
	HousekeepingFrequency=1 #zabbix执行Housekeeping的频率，单位为hours 
	MaxHousekeeperDelete=500 #每次最多删除历史数据的行 
	SenderFrequency=30 #zabbix试图发送未发送的警报的时间，单位为秒 
	CacheSize=8M #缓存的大小 
	CacheUpdateFrequency=60#执行更新缓存配置的时间，单位为秒数 
	StartDBSyncers=4 
	HistoryCacheSize=8M 
	TrendCacheSize=4M 
	HistoryTextCacheSize=16M 
	NodeNoEvents=0 
	NodeNoHistory=0 
	Timeout=3 
	TrapperTimeout=300 
	UnreachablePeriod=45 
	UnavailableDelay=60 
	UnreachableDelay=15 
	AlertScriptsPath=/usr/local/zabbix/shell #脚本的存放路径 
	FpingLocation=/usr/local/sbin/fping #fping指令的绝对路径 
	SSHKeyLocation= 
	LogSlowQueries=0 
	TmpDir=/tmp
	Include=/usr/local/etc/zabbix_server.general.conf 
	Include=/usr/local/etc/zabbix_server.conf.d/ #子配置文件路径 
	StartProxyPollers=1 #在zabbix proxy被动模式下用此参数 
	ProxyConfigFrequency=3600#同上 
	ProxyDataFrequency=1

###2.zabbixagentd的配置文件###

	PidFile=/tmp/zabbix_agentd.pid #pid文件的存放位置 
	LogFile=/tmp/zabbix_agentd.log #日志文件的位置 
	LogFileSize=1 #当日志文件达到多大时进行轮询操作 
	DebugLevel=3 #日志信息级别 
	SourceIP= #连接的源ip地址，默认为空，即可 
	EnableRemoteCommands=0 #是否允许zabbix server端的远程指令， 
	0表示不允许， 
	1表示允许 
	LogRemoteCommands=0 #是否开启日志记录shell命令作为警告 0表示不允许，1表示允许 
	Server=127.0.0.1 #zabbix server的ip地址或主机名，可同时列出多个，需要用逗号隔开 
	ListenPort=10050 #zabbix agent监听的端口 
	ListenIP=0.0.0.0 #zabbix agent监听的ip地址 
	StartAgents=3 #zabbix agent开启进程数 
	ServerActive=127.0.0.1 #开启主动检查 
	Hostname=Zabbix server#在zabbix server前端配置时指定的主机名要相同，最重要的配置 
	RefreshActiveChecks=120 #主动检查刷新的时间，单位为秒数 
	BufferSend=5 #数据缓冲的时间 
	BufferSize=100 #zabbix agent数据缓冲区的大小，当达到该值便会发送所有的数据到zabbix server 
	MaxLinesPerSecond=100 #zabbix agent发送给zabbix server最大的数据行 
	AllowRoot=0 #是否允许zabbix agent 以root用户运行 
	Timeout=3 #设定处理超时的时间 
	Include=/usr/local/etc/zabbix_agentd.userparams.conf 
	Include=/usr/local/etc/zabbix_agentd.conf.d/ #包含子配置文件的路径 
	UnsafeUserParameters=0 #是否允许所有字符参数的传递 
	UserParameter= #指定用户自定义参数

###3.zabbixproxy的配置文件###

	Server=192.168.70.133 #指定zabbix server的ip地址或主机名 
	Hostname=zabbix-proxy-1.35 #定义监控代理的主机名，需和zabbix server前端配置时指定的节点名相同 
	LogFile=/tmp/zabbix_proxy.log #指定日志文件的位置 
	PidFile=/tmp/zabbix_proxy.pid #pid文件的位置 
	DBName=zabbix_proxy #数据库名 
	DBUser=zabbix #连接数据库的用户 
	DBPassword=123456#连接数据库用户的密码 
	ConfigFrequency=60 #zabbix proxy从zabbix server取得配置数据的频率 
	DataSenderFrequency=60 #zabbix proxy发送监控到的数据给zabbix server的频率