---
layout: post
title:  "linux下静态路由修改命令"
date:   2016-2-3 星期三  17:58:57    
categories: jekyll update
---
  
###方法一：###
    
添加路由

	route add -net 192.168.0.0/24 gw 192.168.0.1route add -host 192.168.1.1 dev 192.168.0.1

删除路由

	route del -net 192.168.0.0/24 gw 192.168.0.1

	add 增加路由  
	del 删除路由  
	-net 设置到某个网段的路由  
	-host 设置到某台主机的路由  
	gw 出口网关 IP地址  
	dev 出口网关 物理设备名

增加默认路由

	route add default gw 192.168.0.1

默认路由一条就够了  

	route -n 查看路由表

###方法二：###

添加路由

	ip route add 192.168.0.0/24 via 192.168.0.1ip route add 192.168.1.1 dev 192.168.0.1

删除路由  

	ip route del 192.168.0.0/24 via 192.168.0.1

	add 增加路由  
	del 删除路由  
	via 网关出口 IP地址  
	dev 网关出口 物理设备名  

增加默认路由  

	ip route add default via 192.168.0.1 dev eth0
	via 192.168.0.1 是我的默认路由器  

查看路由信息  

	ip route

保存路由设置，使其在网络重启后任然有效  

在/etc/sysconfig/network-script/目录下创建名为route- eth0的文件

	vi /etc/sysconfig/network-script/route-eth0

在此文件添加如下格式的内容  

	192.168.1.0/24 via 192.168.0.1

重启网络验证

/etc/rc.d/init.d/network中有这么几行：  

	# Add non interface-specific static-routes.if [ -f /etc/sysconfig/static-routes ]; then
	grep "^any" /etc/sysconfig/static-routes | while read ignore args ; do/sbin/route add -$args
	done
	fi

也就是说，将静态路由加到/etc/sysconfig/static-routes 文件中就行了。

如加入：  

	route add -net 11.1.1.0 netmask 255.255.255.0 gw 11.1.1.1

则static-routes的格式为

	any net 11.1.1.0 netmask 255.255.255.0 gw 11.1.1.1

问题：

配置报错：“RTNETLINK answers: Network is unreachable”

![](http://7xppz2.com1.z0.glb.clouddn.com/36.png)

当出现『SIOCADDRT: Network is unreachable』这个错误时，肯定是由于 gw 后面接的 IP 无法直接与您的网域沟通 (Gateway 并不在你的网域内)，所以，赶紧检查一下是否输入错误啊